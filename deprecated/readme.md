### SVR

----

#### FIVR 5K

|query| databse| total| duration | size|
|---|---|---|---|---|
|50| 5000| 5049| 151h (107sec) | 32GB (6.4MB)|

---
**Model #1**

- Frame Encoder: Resnet50(ImageNet pretrained)-AveragePool + L2 Norm,
- Video Encoder: Segment AveragePool + L2 Norm

- /hdd/ms/fivr-5k/resnet50-avgpool/

|DSVR| CSVR| ISVR|
|---|---|---|
|0.3983|0.4162|0.3778|

---

**Model #2**

- Frame Encoder: Resnet50(ImageNet pretrained)-AveragePool + L2 Norm,
- Video Encoder: Transformer
- Train #1
    - dataset: abc
- Train #2
    - dataset: abc

---
**Method #3**

#### 3D convolution

- clip Encoder: x3d_s, x3d_m, x3d_l, slow_r50(Kinetic pretrained): AveragePool layer + L2 Norm,
- Video Encoder: Average + L2 Norm

| average |DSVR| CSVR| ISVR|
|---|---|---|---|
|slow_r50_8_8_224|0.3997|0.4111|0.3969|
|x3d_s_13_6_160|0.4292|0.4456|0.4378|
|x3d_m_16_5_224|0.4404|0.4511|0.4316|
|x3d_l_16_5_312|0.4143|0.4293|0.4243|

---
**Benchmark**

#### Video-level comparison

| |DSVR| CSVR| ISVR|---|
|---|---|---|---|---|
|TCA|0.639|0.657|0.609|검증필요|
|STCA|0.678|0.687|0.615|검증필요|
|STCA(byol)|0.685|0.691|0.619|검증필요|

#### Frame-level comparison

Chamfer Similarity (CS): This is the similarity counterpart of Chamfer Distance

| |DSVR| CSVR| ISVR| |
|---|---|---|---|---|
|VISIL_f|0.838|0.832|0.739|  |
|VISIL_v|0.880|0.869|0.777|  |

- FIVR5k

| |DSVR| CSVR| ISVR| |
|---|---|---|---|---|
|slow_r50_8_8_224|0.6426|0.6426|0.6527|  |
|x3d_s_13_6_160|0.6836|0.6836|0.6867|  |
|x3d_m_16_5_224|0.6615|0.6615|0.6815|  |
|x3d_l_16_5_312|0.6267|0.6267|0.6496|  |

---

#### Baseline (futures/eval_fivr5k.py) - 2022.06.14

###### Without training

- x3d_s 13 6 160
    + average      
      v: 0.4508575975359265, 0.4465622875934653, 0.4423782004830038     
      f: 0.7541563303814519, 0.7314431609028692, 0.6670896637057555            
      (0.45087513098570015, 0.4661376752224363, 0.45933764695655377)      
      (0.7541555241941823, 0.7563639205038294, 0.6877967448972012)
        - 8 gpu 16 m 07s
        - batch - 2

- x3d_m_16_5_224
    + average     
      (0.45805126620563136, 0.44965147470728484, 0.4327366242559224)      
      (0.7420842444009647, 0.7086609278400537, 0.661632760285224)
        - 8 gpu - 24 m
        - batch - 1

-slow_r50_8_8_224 + average

(0.40726332337620524, 0.4008730083345478, 0.39352597865188793)
(0.7247299717598643, 0.6979839719116857, 0.6338777810845899)
8 gpu - 14 m 07s batch - 1

- resnet 1 1fps 224
    + average      
      (0.3899930479288746, 0.40560289313784786, 0.38685693679337363)      
      (0.7220985776517614, 0.7203903289018431, 0.6676980646934255)
        - 8 gpu - 4 m 36s
        - batch - 2
    + norm-average      
      (0.3777209402390435, 0.3932845678237132, 0.37328528872191474)      
      (0.7220985776517614, 0.7203903289018431, 0.6676980646934255)
    + bn-norm-average    
      (0.3777209402390435, 0.3932845678237132, 0.3732855657529368)      
      (0.7220985776517614, 0.7203903289018431, 0.6676980646934255)


- resnet rmac 1 1fps 224
    + average  
      (0.41823012610576804, 0.4365466104217803, 0.41354450591841163)      
      (0.7799184648443456, 0.7774018777583531, 0.717860398942764)
    + norm-average      
      (0.41823012610576804, 0.4365466104217803, 0.41354450591841163)      
      (0.7799184648443456, 0.7774018777583531, 0.717860398942764)
    + bn-norm-average      
      (0.4182304452886598, 0.4365469008782118, 0.4135446836297423)      
      (0.7799184648443456, 0.7774018777583531, 0.717860398942764)

###### Resize

- resnet 1 1fps 256 -> 224
    + average      
      (0.4208329765474607, 0.43932193553494464, 0.41495908948294036)      
      (0.7408184244453863, 0.7380339535775573, 0.6819301017128925)

- resnet rmac 1 1fps 256 -> 224
    + average  
      (0.4328730271038534, 0.4501304229066767, 0.42188474136220366)      
      (0.7797961893689768, 0.7757528692174226, 0.7156563634234631)

